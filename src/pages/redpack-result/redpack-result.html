<!--
  Generated template for the RedpackResultPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!-- <ion-header no-border>

  <ion-navbar>
    <ion-title></ion-title>
  </ion-navbar>

</ion-header> -->

<ion-content>
  <div class="result-head">
    <img [src]="redpack.owner.avatar" class="avatar"/>
    <h2 class="name">{{redpack.owner.nickname}}</h2>
  </div>
  <div class="result result-success" *ngIf="!!redpackResult">
    <p class="summary">
      恭喜您获得一个<span class="red">
        {{redpackResult.is_cash ? '现金' : '消费'}}红包</span></p>
    <div class="message">
      {{redpackResult.money}} <span class="unit">元</span>
      
      <img [src]="redpackResult.qrcode_url" 
        *ngIf="!!redpackResult.qrcode_url" 
        class="qrcode-img" />
      <p class="help-text">商家扫二维码，确认消费抵扣</p>
    </div>
    <div padding>
      <button ion-button full (click)="goHome()">
        {{redpackResult.is_cash ? '回首页领取红包' : '回首页'}}
      </button>
    </div>
  </div>
  <div classs="result result-error" *ngIf="!!redpackError">
    <div class="message">
      {{redpackError.code == 500 ? '服务器出错了~' : redpackError.message}}
    </div>
    <div padding *ngIf="redpackError.code == 500">
      <button ion-button full (click)="openRedpack()" color="secondary">
        点击再拆一次红包
      </button>
    </div>
    <div padding>
      <button ion-button full (click)="goHome()">
        回首页
      </button>
    </div>
  </div>

</ion-content>
